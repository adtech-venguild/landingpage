<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>VENGUILD – Elements</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg1:#0b1116; --line:rgba(255,255,255,.14);
    --text:#eef4fb; --muted:#cfe0ef; --gold:#f6d694;
    --accent:#39e27e; --accent-2:#2cd18c;
    --shadow:0 22px 60px rgba(0,0,0,.55);

    /* orb colors */
    --aqua:#4da3ff;
    --terra:#7ef2b0;
    --zephyr:#e8eadf;
    --pyra:#ff6a6a;
    --aether:#b07a3a;

    /* current element color (mutates) */
    --current: var(--aqua);

    /* orb sizing/anim */
    --radius: 34vmin;
    --speed: 26s;
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{
    color:var(--text);
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:
      linear-gradient(180deg, rgba(8,12,16,.86), rgba(8,12,16,.94)),
      url('assets/background/background1.png') center / cover fixed no-repeat;
    -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    overflow-x:hidden;
  }

  .container{max-width:1100px; margin:0 auto; padding:22px 16px 100px}
  header{display:grid; place-items:center; text-align:center}
  .logo{width:88px; height:88px; object-fit:contain; filter:drop-shadow(0 0 14px rgba(0,0,0,.45))}
  h1{font-family:Cinzel,serif; font-weight:900; margin:8px 0 6px; font-size:clamp(30px,5.8vw,54px); color:var(--gold)}
  .intro{max-width:820px; margin:0 auto; color:var(--muted)}

  .actions{display:flex; gap:10px; justify-content:center; margin:22px 0 8px}
  .btn{
    background:linear-gradient(180deg,var(--accent),var(--accent-2));
    color:#071610; font-weight:800; padding:12px 16px; border:none; border-radius:12px; cursor:pointer;
    transition:transform .1s ease, box-shadow .2s ease; box-shadow:0 6px 18px rgba(57,226,126,.22)
  }
  .btn:hover{transform:translateY(-1px); box-shadow:0 8px 22px rgba(57,226,126,.32)}
  .btn.ghost{background:transparent; color:var(--text); border:1px dashed var(--line); box-shadow:none}

  /* Pills */
  .pills{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; padding:10px 0 2px}
  .pill{
    display:inline-flex; align-items:center; gap:8px;
    border:1px solid var(--line); background:rgba(255,255,255,.05);
    padding:10px 12px; border-radius:999px; font-weight:800; font-size:14px; color:#e9fffa; cursor:pointer;
    transition:transform .12s ease, border-color .12s ease, box-shadow .12s ease, background .12s ease;
  }
  .pill:hover{transform:translateY(-1px); border-color:rgba(57,226,126,.55); box-shadow:0 0 0 2px rgba(57,226,126,.22) inset}
  .pill.active{background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#03130d; border-color:transparent; box-shadow:0 0 0 2px rgba(0,0,0,.25) inset}

  /* Orb Stage (one orb at a time) */
  .stage{display:grid; place-items:center; padding:18px 0}
  .scene{position:relative; width:min(88vmin,820px); height:min(88vmin,820px); filter:drop-shadow(0 20px 40px rgba(0,0,0,.55)); opacity:0; transform:translateY(8px) scale(.98); transition:opacity .25s ease, transform .25s ease}
  .scene.show{opacity:1; transform:none}
  .track{position:absolute; inset:0; margin:auto; width:calc(var(--radius) * 2); height:calc(var(--radius) * 2); border-radius:50%}

  .orb-wrap{
    position:absolute; top:50%; left:50%;
    transform: translate(-50%,-50%);        /* Centered — no multi-orbits since we only show ONE orb */
  }
  .orb{
    --size:64px;
    position:absolute; top:50%; left:50%;
    width:var(--size); height:var(--size); border-radius:50%;
    transform:translate(-50%,-50%);
    background:
      radial-gradient(circle at 32% 28%, #ffffff 0%, rgba(255,255,255,.65) 38%, rgba(0,0,0,.55) 100%),
      radial-gradient(circle at 70% 70%, color-mix(in srgb, var(--current) 70%, #0000), transparent 60%);
    box-shadow:
      0 0 12px var(--current),
      0 0 30px var(--current),
      0 0 120px color-mix(in srgb, var(--current) 70%, transparent);
    border:1px solid color-mix(in srgb, var(--current) 60%, #fff 40%);
    filter:saturate(1.12);
  }
  .orb::before{
    content:""; position:absolute; inset:-18px; border-radius:50%;
    background: radial-gradient(circle, color-mix(in srgb, var(--current) 25%, transparent), transparent 70%);
    filter: blur(12px); animation:pulse 3.2s ease-in-out infinite;
  }
  @keyframes pulse{ 0%,100%{opacity:.5; transform:scale(1)} 50%{opacity:1; transform:scale(1.08)} }

  .spark-field{ position:absolute; top:50%; left:50%; width:0; height:0; pointer-events:none; }
  .spark{
    --col:var(--current); --ang:0deg; --dist:28px; --ssize:4px; --dur:7s; --delay:0s;
    position:absolute; top:0; left:0; width:var(--ssize); height:var(--ssize); border-radius:50%;
    background: radial-gradient(circle at 40% 40%, #fff 0 40%, var(--col) 55%, transparent 75%);
    box-shadow: 0 0 6px var(--col), 0 0 16px color-mix(in srgb, var(--col) 85%, transparent);
    transform: translate(-50%,-50%) rotate(var(--ang)) translateX(var(--dist));
    animation: swirl var(--dur) linear infinite, twinkle calc(var(--dur) * .8) ease-in-out infinite;
    animation-delay: var(--delay);
  }
  @keyframes swirl{
    to{
      transform:
        translate(-50%,-50%)
        rotate(calc(var(--ang) + 360deg))
        translateX(var(--dist));
    }
  }
  @keyframes twinkle{ 0%,100%{ opacity:.2; filter:blur(.5px) } 15%{ opacity:.95; filter:blur(.2px) } 55%{ opacity:.35; filter:blur(.9px) } }

  /* Lore card */
  .lore{max-width:900px; margin:12px auto 0; background:rgba(255,255,255,.05); border:1px solid var(--line); border-radius:16px; padding:14px}
  .lore h3{font-family:Cinzel,serif; font-size:22px; margin:0 0 6px; color:var(--gold)}
  .lore p{margin:0; color:#e9f7ff; line-height:1.6}

  /* Element detail cards (optional extra lore per element) */
  .elements{display:grid; grid-template-columns:repeat(5, minmax(180px,1fr)); gap:14px; margin:16px auto 0; max-width:1000px}
  @media (max-width:1000px){ .elements{grid-template-columns:1fr 1fr} }
  @media (max-width:560px){ .elements{grid-template-columns:1fr} }
  .element{background:rgba(10,16,22,.76); border:1px solid var(--line); border-radius:14px; padding:14px; box-shadow:0 10px 30px rgba(0,0,0,.45)}
  .element h4{font-family:Cinzel,serif; font-size:18px; margin:0 0 8px}
  .element p{margin:0; color:#deebf7; line-height:1.55; font-size:15px}
</style>
</head>
<body>
  <div class="container">
    <header>
      <img class="logo" src="assets/logo.png" alt="VENGUILD">
      <h1>Guild Elements Codex</h1>
      <p class="intro">Five fundamentals—Aqua, Terra, Zephyr, Pyra, and Aether—shape the outcomes of every venture.</p>
    </header>

    <div class="actions">
      <button id="learnBtn" class="btn">Learn about elements</button>
      <button id="resetBtn" class="btn ghost" style="display:none">Hide orb</button>
    </div>

    <!-- Element selector (one orb at a time; this just switches which element is shown) -->
    <div id="pills" class="pills" style="display:none">
      <button class="pill active" data-el="Aqua">Aqua</button>
      <button class="pill" data-el="Terra">Terra</button>
      <button class="pill" data-el="Zephyr">Zephyr</button>
      <button class="pill" data-el="Pyra">Pyra</button>
      <button class="pill" data-el="Aether">Aether</button>
    </div>

    <!-- ONE ORB ONLY -->
    <section class="stage">
      <div id="scene" class="scene" aria-hidden="true">
        <div class="track">
          <div class="orb-wrap">
            <div class="orb" aria-label="Elemental orb"></div>
            <div id="sparks" class="spark-field" aria-hidden="true"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Lore -->
    <article id="lore" class="lore" style="display:none">
      <h3 id="loreTitle">On the Nature of Elements</h3>
      <p id="loreText">
        In most worlds, elements are matter and weather. In ours, they keep their science <em>and</em> answer to will.
        Water still flows, stone still bears weight, winds still move heat, fire still consumes, and aether still
        threads meaning between things—but trained mages and grounded artisans can nudge them further. We treat this
        as craft, not miracle: intention, ritual, and practice give your commands the traction to hold. Respect the
        rules, pay the costs, and the elements will meet you halfway.
      </p>
    </article>

    <!-- Per-element flavor (optional section to keep your library feel) -->
    <section class="elements" aria-label="Element notes" id="cards" style="display:none">
      <article class="element" id="el-Aqua">
        <h4>Aqua</h4>
        <p>The discipline of flow and renewal. Medics, scouts, and tacticians borrow its timing to turn the tide.</p>
      </article>
      <article class="element" id="el-Terra">
        <h4>Terra</h4>
        <p>Weight, leverage, and oath. Guardians and builders draw on Terra to anchor lines and outlast storms.</p>
      </article>
      <article class="element" id="el-Zephyr">
        <h4>Zephyr</h4>
        <p>Initiative and motion. Messengers and skirmishers ride Zephyr’s edge, striking before the world catches up.</p>
      </article>
      <article class="element" id="el-Pyra">
        <h4>Pyra</h4>
        <p>Combustion and resolve. Pyra breaks stalemates and forges momentum—if you can carry its heat.</p>
      </article>
      <article class="element" id="el-Aether">
        <h4>Aether</h4>
        <p>Meaning, memory, pattern. Scribes and diviners tie symbols to reality and read what isn’t yet written.</p>
      </article>
    </section>
  </div>

<script>
/* ===== helpers ===== */
const $ = (s, r=document)=> r.querySelector(s);
const $$ = (s, r=document)=> [...r.querySelectorAll(s)];

function setElementColor(el){
  const root = document.documentElement.style;
  const key = el.toLowerCase();
  const map = { aqua:'--aqua', terra:'--terra', zephyr:'--zephyr', pyra:'--pyra', aether:'--aether' };
  const cssVar = map[key] || '--aqua';
  const color = getComputedStyle(document.documentElement).getPropertyValue(cssVar).trim();
  root.setProperty('--current', color);
}

/* ===== spark field (single orb) ===== */
function seedSparks(){
  const box = $('#sparks'); box.innerHTML='';
  const COUNT = 28;
  const rnd = (a,b)=> a + Math.random()*(b-a);
  for(let i=0;i<COUNT;i++){
    const s=document.createElement('i');
    s.className='spark';
    s.style.setProperty('--ang',  rnd(0,360).toFixed(2)+'deg');
    s.style.setProperty('--dist', rnd(26, 78).toFixed(1)+'px');
    s.style.setProperty('--ssize',rnd(2, 5.4).toFixed(1)+'px');
    s.style.setProperty('--dur',  rnd(5.4, 10.2).toFixed(2)+'s');
    s.style.setProperty('--delay',(-rnd(0, 9)).toFixed(2)+'s');
    box.appendChild(s);
  }
}

/* ===== UI wiring ===== */
const scene = $('#scene');
const lore  = $('#lore');
const pills = $('#pills');
const cards = $('#cards');
const learnBtn = $('#learnBtn');
const resetBtn = $('#resetBtn');

function showElementsUI(){
  // reveal orb + lore + selectors
  scene.classList.add('show');
  scene.setAttribute('aria-hidden', 'false');
  lore.style.display='';
  pills.style.display='';
  cards.style.display='';
  learnBtn.style.display='none';
  resetBtn.style.display='';
}

function hideElementsUI(){
  scene.classList.remove('show');
  scene.setAttribute('aria-hidden', 'true');
  lore.style.display='none';
  pills.style.display='none';
  cards.style.display='none';
  learnBtn.style.display='';
  resetBtn.style.display='none';
}

learnBtn.addEventListener('click', ()=>{
  // default to Aqua when learning starts
  setActive('Aqua');
  showElementsUI();
  seedSparks();
  // scroll scene into view on mobile
  scene.scrollIntoView({behavior:'smooth', block:'center'});
});
resetBtn.addEventListener('click', hideElementsUI);

function setActive(name){
  $$('.pill').forEach(p=> p.classList.toggle('active', p.dataset.el===name));
  setElementColor(name);
  // optional: swap lore heading subtly
  $('#loreTitle').textContent = `${name} — Field Notes`;
}

$('#pills').addEventListener('click', e=>{
  const btn = e.target.closest('.pill'); if(!btn) return;
  setActive(btn.dataset.el);
  // refresh spark timings slightly to feel responsive
  seedSparks();
});

/* deep link support: ?element=Aqua */
(function startup(){
  const el = new URL(location.href).searchParams.get('element');
  if(el){
    setActive(el);
    showElementsUI();
    seedSparks();
  }
})();
</script>
</body>
</html>
